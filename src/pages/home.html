<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Live ISO 14001 and RTMS environmental dashboard for Auto Carriers.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link href="../styles/dashboard.css" rel="stylesheet">
    <title>Auto Carriers RTMS Control Tower</title>
</head>

<body data-requires-auth="true">
    <header class="navbar sticky-top bg-dark flex-md-nowrap p-0 shadow" data-bs-theme="dark">
        <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6 text-white d-flex align-items-center" href="#">
            Auto Carriers
        </a>
        <img src="../../public/images/Auto carriers  logo.jpg"
            onerror="this.onerror=null;this.src='../../public/images/Auto%20carriers%20%20logo.jpg';"
            class="brand-mark rounded mx-auto d-block" alt="Auto Carriers logo">
    </header>

    <div class="container-fluid">
        <div class="row">
            <div class="sidebar border border-right col-md-3 col-lg-2 p-0 bg-body-tertiary">
                <nav id="sidebar" class="d-md-block bg-body-tertiary">
                    <div class="position-sticky">
                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="policyManual.html">
                                    Policies
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="SOP.html">
                                    SOP
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="DriverRegister.html">
                                    Driver register
                                </a>
                            </li>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="PermitRegister.html">
                                    Permit register
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="Documents.html">
                                    Documents
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="Training.html">
                                    Training
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="reports.html">
                                    Reports
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2"
                                    href="../Fleet inventory/FleetInventory.html" target="_blank" rel="noopener">
                                    Fleet Inventory
                                </a>
                            </li>
                        </ul>

                        <hr class="my-3">

                        <ul class="nav flex-column mb-auto">

                            <li class="nav-item">
                                <a class="nav-link d-flex align-items-center gap-2" href="index.html" target="_self"
                                    data-signout>
                                    Sign out
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>

            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <section class="page-hero">
                    <span class="badge">RTMS Quantitative Dashboard</span>
                    <h1>Monthly operational safety and distance performance</h1>
                    <p>This dashboard tracks monthly speeding occurrences, shift hours, accidents, and distance
                        covered for longhaul and local fleets. Use it to monitor risk exposure and operational
                        throughput in one view.</p>
                    <div class="hero-actions">
                        <button class="btn btn-success" type="button" data-scroll-target="#trend-panel">View trend
                            chart</button>
                        <button class="btn btn-outline-light" type="button" data-scroll-target="#data-panel">Jump to
                            data table</button>
                    </div>
                </section>

                <section class="insights-grid" aria-label="Headline RTMS indicators">
                    <article class="stat-card">
                        <p class="stat-label">Total distance</p>
                        <p class="stat-value" id="stat-total-distance">-- km</p>
                        <p class="stat-trend" id="stat-average-distance">--</p>
                        <p class="stat-note">Combined longhaul + local</p>
                    </article>
                    <article class="stat-card">
                        <p class="stat-label">Total accidents</p>
                        <p class="stat-value" id="stat-total-accidents">--</p>
                        <p class="stat-trend" id="stat-accident-rate">--</p>
                        <p class="stat-note">Accident rate per 100,000 km</p>
                    </article>
                    <article class="stat-card">
                        <p class="stat-label">Speeding occurrences</p>
                        <p class="stat-value" id="stat-total-speeding">--</p>
                        <p class="stat-trend" id="stat-speeding-rate">--</p>
                        <p class="stat-note">Speeding rate per 100,000 km</p>
                    </article>
                    <article class="stat-card">
                        <p class="stat-label">Shift hours</p>
                        <p class="stat-value" id="stat-total-shift">-- h</p>
                        <p class="stat-trend" id="stat-average-shift">--</p>
                        <p class="stat-note">Average shift hours per month</p>
                    </article>
                </section>

                <section class="data-panel" id="trend-panel">
                    <div class="panel-header">
                        <div>
                            <p class="eyebrow">Safety + throughput trend</p>
                            <h2>Total distance vs incidents</h2>
                            <p>Bars show total monthly distance. Lines show accidents and speeding occurrences to
                                expose high-risk periods relative to output.</p>
                        </div>
                        <div class="panel-actions">
                            <button class="btn btn-outline-light" type="button" id="toggle-accidents">Toggle
                                accidents</button>
                            <button class="btn btn-outline-light" type="button" id="toggle-speeding">Toggle
                                speeding</button>
                        </div>
                    </div>
                    <div class="chart-wrapper" style="height:420px">
                        <canvas id="operationsChart" role="img"
                            aria-label="RTMS distance versus incidents chart"></canvas>
                    </div>
                </section>

                <section class="data-panel">
                    <div class="panel-header">
                        <div>
                            <p class="eyebrow">Fleet mix and labor pattern</p>
                            <h2>Longhaul vs local distance with shift hours</h2>
                            <p>Stacked bars split total distance by operation type, while the line tracks total shift
                                hours worked each month.</p>
                        </div>
                    </div>
                    <div class="chart-wrapper" style="height:340px">
                        <canvas id="fleetMixChart" role="img"
                            aria-label="RTMS longhaul local and shift hours chart"></canvas>
                    </div>
                </section>

                <section class="data-panel" id="data-panel">
                    <div class="panel-header">
                        <div>
                            <p class="eyebrow">Supporting data</p>
                            <h2>Monthly RTMS dataset</h2>
                            <p>Search by month or value to inspect raw metrics and monthly incident rates.</p>
                        </div>
                        <div class="table-controls">
                            <input type="search" class="table-search" placeholder="Search month or value"
                                id="rtms-table-search">
                        </div>
                    </div>
                    <div class="doc-table-wrapper">
                        <table class="doc-table" id="rtms-table">
                            <thead>
                                <tr>
                                    <th scope="col">Month</th>
                                    <th scope="col">Speeding</th>
                                    <th scope="col">Shift hours</th>
                                    <th scope="col">Accidents</th>
                                    <th scope="col">Longhaul km</th>
                                    <th scope="col">Local km</th>
                                    <th scope="col">Total km</th>
                                    <th scope="col">Accidents / 100k km</th>
                                    <th scope="col">Speeding / 100k km</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <p class="table-caption">Rates are normalized per 100,000 km to compare risk across months with
                        different distance volumes.</p>
                </section>

            </main>
        </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"
    integrity="sha384-gdQErvCNWvHQZj6XZM0dNsAoY4v+j5P1XDpNkcM3HJG1Yx04ecqIHk7+4VBOCHOG"
    crossorigin="anonymous"></script>
<script src="../scripts/core/auth.js"></script>
<script src="../scripts/core/dashboard.js"></script>

</html>